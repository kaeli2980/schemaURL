<!DOCTYPE html>
<html>
<head>
    <title>Redirect</title>
    <script>
        // 현재 페이지의 URL에서 쿼리 문자열을 가져오는 함수를 정의합니다.
        function getQueryStringValue(key) {
            var urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(key);
        }

        // "schema" 쿼리 문자열 값을 가져옵니다.
        var schemaUrl = getQueryStringValue('schema');

        // URL 인코딩을 수행합니다.
        var encodedSchemaUrl = encodeURIComponent(schemaUrl);

        // 페이지 로드 시 리다이렉트를 수행합니다.
        window.onload = function() {
            // PC로 접속했을 경우 안내 문구를 표시하고, 모바일 기기로 접속한 경우에만 리다이렉트를 수행합니다.
            if (!isMobileDevice()) {
                document.getElementById("message").textContent = "PC로 접속하셨습니다. 이동이 되지 않을 수도 있습니다.";
            } else {
                // URL 디코딩하여 스키마 URL로 리다이렉트합니다.
                window.location.href = decodeURIComponent(encodedSchemaUrl);
            }
        };

        // 현재 기기가 모바일 기기인지 확인하는 함수를 정의합니다.
        function isMobileDevice() {
            return (typeof window.orientation !== "undefined") || (navigator.userAgent.indexOf('IEMobile') !== -1);
        }
    </script>
</head>
<body>
    <h1>Redirecting...</h1>
    <p id="message"></p>
</body>
</html>
